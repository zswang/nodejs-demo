<html>
	<head>
		<title>聊天室</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="resources/themes/default/styles/chat.css" />
		<script src="http://img.baidu.com/js/tangram-1.3.9.js"></script>
		<script src="core.js"></script>
		<script src="lib/engine/ace-template.js"></script>
		<script src="lib/engine/ace-event.js"></script>
		<script src="lib/engine/ace-tree.js"></script>
		<!-- Debug Start -->
		<script src="extensions/console.logger.js"></script>
		<!-- Debug End -->
		<script src="extensions/chat.api.config.js"></script>
		<script src="extensions/chat.api.js"></script>
		<script src="modules/events.config.js"></script>
		<script src="modules/manager.js"></script>
		<script src="modules/message-box.js"></script>
		<script src="modules/player-box.js"></script>
		<script src="modules/editor-box.js"></script>
		<script src="modules/dialog-box.js"></script>
	</head>
	<body>
		<div id="main">
			<div id="messageBox">
				<h4>消息</h4>
				<div id="messageList">
					<ul>
						<script id="messageListTemplate" type="text/template">
						<li>
							<span class="nick #{helper.ifSelf(from)}">#{nick}</span><span class="time">#{helper.formatTime(time)}</span>
							<pre class="message"><p>!#{helper.mutiline(message)}</p></pre>
						</li>
						</script>

						<!-- Debug Start -->
						<li>
							<span class="nick">昵称1</span><span class="time">19:51:23</span>
							<pre class="message"><p>聊天内容1！</p></pre>
						</li>
						<li>
							<span class="nick self">昵称2</span><span class="time">19:51:32</span>
							<pre class="message"><p>聊天内容2聊天内容2聊天内容2聊天内容2聊天内容2聊天内容2聊天内容2聊天内容2聊天内容2聊天内容2聊天内容2聊天内容2聊天内容2聊天内容2聊天内容2聊天内容2聊天内容2聊天内容2！</p></pre>
						</li>
						<li>
							<span class="nick">昵称3</span><span class="time">19:51:23</span>
							<pre class="message"><p>聊天内容3！</p></pre>
						</li>
						<!-- Debug End -->
					</ul>
				</div>
				<div id="tools">
					<textarea id="editor"></textarea>
					<button cmd="send">发送</button>
				</div>
			</div>
			<div id="playerBox">
				<h4>用户</h4>
				<ul>
					<script id="playerListTemplate" type="text/template">
					<li class="#{state}" cmd="nick"><span class="state"></span><span class="nick #{helper.ifSelf(id)}">#{nick}</span></li>
					</script>

					<!-- Debug Start -->
					<li class="online"><span class="state"></span><span class="nick">昵称 他人</span></li>
					<li class="offline"><span class="state"></span><span class="nick self">昵称 自己</span></li>
					<!-- Debug End -->
				</ul>
			</div>
		</div>
		<div id="masks" style="display: none;">
			<script id="dialogTemplate" type="text/template">
				switch(type) {
					case "nick":
					
			<div class="dialog hidden">
				<div class="head"><span class="title">修改昵称</span><span class="close" cmd="cancel"></span></div>
				<div class="content">
					<div class="panel">
						<div><span>昵称：</span><input type="text" id="inputNick" value="#{nick}"/></div>
					</div>
				</div>
				<div class="foot">
					<input type="button" class="button" value="取消" cmd="cancel"/><input type="button" class="button" value="确定" cmd="ok"/>
				</div>
			</div>
			
						break;
				}
			</script>
			
			<!-- Debug Start -->
			<div class="dialog">
				<div class="head"><span class="title">修改昵称</span><span class="close"></span></div>
				<div class="content">
					<div class="panel">
						<div><span>昵称：</span><input type="text" id="inputNick"/></div>
					</div>
				</div>
				<div class="foot">
					<input type="button" class="button" value="取消"/><input type="button" class="button" value="确定"/>
				</div>
			</div>
			<!-- Debug End -->
		</div>
	</body>
</html>